# 2023/12/05
# 取り組んだ課題
DB設計の課題
データベース設計の基本課題
  
# 次やる課題
データベース設計の基本課題

# 学んだこと
# WEB APIとは
　HTTPなどのインターネト関連技術を利用してプログラムが読み書きしやすい形でメッセージ送受信を行えるよう定義した規約、または規約を実装して展開されるサービス。

# HTTP通信
- メソッドの種類

|Create|Read|Update|Delete|
|:--:|:--:|:--:|:--:|
|作成|読み取り|更新|削除|
|POST/PUT|GET|PUT|DELETE|

- ステータスコード

|2xx|4xx|5xx|
|:--:|:--:|:--:|
|正常に処理|リクエストエラー|サーバーエラー|

# REST
分散型システムにおける設計ルール
- REST原則は6種類
1. クライアント/サーバー
画面とデータで関心事を分離。クライアント側がトリガー、サーバー側は受け身。
1. ステートレス
サーバーはリクエストだけでコンテキストを理解できる。
リクエストに状態情報を含むことでリクエストが独立する。
* メリット：単一のリクエスト以外見る必要がないので、監視が容易。障害発生したリクエストだけ回復すれば良いので、障害復旧が容易。リクエスト全体でサーバーリソースを共有する必要がないのでスケールが容易。
* デメリット：単一のリクエストで完結させるため、リクエストデータに重複がある。アプリを複数バージョン同時提供し、状態をクライアントに置いておくとアプリ制御が複雑になる。
1. キャッシュ制御
クライアントはレスポンスをキャッシュできる。キャッシュを適切に行うことで必要な情報だけリクエストすればよくなる。
* メリット：ユーザー体験の向上、リソース効率の向上、拡張性の向上。
* デメリット：古いデータを戻してしまうとシステムに対する信頼性の低下につながる。
1. 統一インターフェース
4つの制約
* リソースの識別
URI（リソースの識別するもの）を用いてサーバーに保存されたデータを識別する。
* 表現を用いたリソース操作
クライアントへ返されるレスポンスやサーバーへPOSTするデータ。断面情報を利用してサーバ上のデータを操作する。
* 自己記述メッセージ
メッセージ内容がなんであるか、ヘッダーに記述されている。
* アプリケーション状態エンジンとしてのハイパーメディア（HATEOAS）
レスポンスに現在の状態を踏まえて関連するハイパーリンクが含まれている。
* メリット：システムアーキテクチャ全体が簡素化されてわかりやすくなる。提供するサービスに集中でき、独自の進化ができる。異なるブラウザでも同じような画面を表示できる。
* デメリット：標準化によって効率が犠牲になる。
1. 階層化システム
多層アーキテクチャ構成。
* メリット：各システム（コンポーネント）に役割を決めて独立させることで、進化と再利用を促進できる。
* デメリット：データ処理にオーバーヘッドが発生、ユーザーから見ると応答が悪く見える。
1. コードオンデマンド
クライアントコードをダウンロードして実行できる。
* リリース後にクライアントコードを変更できる。
* メリット：リリース済みのクライアントに対して機能追加ができる。サーバーの負荷が下がる（クライアントに処理が移譲できるため）。
* デメリット：評価環境が複雑になる。

# REST APIの設計モデル
設計レベルは4段階。

|LEVEL3|LEVEL2|LEVEL1|LEVEL0|
|:--:|:--:|:--:|:--:|
|HATEOASの概念を導入|HTTPの動詞を導入|リソースの概念を導入|HTTPを使っている|

1. LEVEL0：HTTPを使っている
REST APIの基本レベル。RPCスタイルのXML通信。
1. LEVEL1：リソースの概念を導入
リソースごとにURLを分割。
1. LEVEL2：HTTPの動詞を導入
LEVEL1に加えてHTTPメソッドを活用。
1. LEVEL3：HATEOASの概念を導入
LEVEL2に加えてレスポンスにリソース間のつながりが含まれる。

# 学習時間
2h（合計384h）
