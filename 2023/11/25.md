# 2023/11/25
# 取り組んだ課題
達人に学ぶDB設計
  
# 次やる課題
達人に学ぶDB設計

# 学んだこと
1. 第1正規形
    * 1つのセルの中には1つの値しか含まない。(スカラ値)
    * `関数従属性`2つの属性の間で片方の値を決定するともう一方の値が一意に決まるという性質のこと。
    * 正規化とはテーブルのすべての列が、関数従属性を満たすよう整理していくことである。
1. 第2正規形
    * 主キーの一部の列に対して従属する列がある場合、この関係を`部分関数従属`と呼ぶ。主キーを構成するすべての列に従属性があることを`完全関数従属`と呼ぶ。第2正規形は`部分関数従属`を解消することで得られる。
    * `無損失分解`　第2正規化は異なるレベルの実体（エンティティ）をきちんとテーブルとして分離することで、必ず正規化する前の状態に戻すことができる（可逆的な操作）。情報を完全に保存したままテーブルを分割する操作のこと。
    * 正規化の逆操作は結合。
1. 第3正規形
    * `推移的関数従属` テーブル内部に存在する段階的な従属関係のこと。
    * 推移的関数従属によるデータ登録時の不都合を解消するには、テーブルを分割することでそれぞれの関数従属の関係を独立させる。

正規化の3つのポイント
* 正規化とは更新時の不都合/不整合を排除するために行う
* 正規化は従属性を見抜くことで可能になる
* 正規形はいつでも非正規形に戻せる
## ER図
* テーブルの数が増えていくと、テーブル同士の関係がわかりにくくなり、設計に支障をきたす。この問題を解決するためにテーブル同士の関係を記述する道具がER図。
* ER図の書き方には何種類かフォーマットがあるが、代表的なものはIDEF1XとIE表記法。
* リレーショナルデータベースにおけるテーブル間の関係は、基本的に「1対多」。「多対多」の関係は「1対多」の関連に分解する。
* 「多対多」を「1対多」に分解する時に必要になるエンティティを`関連実体`と呼ぶ。

## 論理設計とパフォーマンス
* 正規化することは、データベースにおけるテーブル設計の基礎。しかし、厳格に正規化すると時として正規化の欠点が現れることがある。その最大の欠点はSQLのパフォーマンス問題である。
* 正規化がSQLのパフォーマンス問題を引き起こすのは、正規化するとSQL文の中で結合(join)
が必要になるためである。結合はSQLの処理の中で高コストなため、多用するとSQLの速度が悪化する。
* この問題の対処法は1. SQL文そのものに対するチューニング、2. 正規化
* 正規化以外にも、SQLのパフォーマンスを悪化させるテーブル設計がある。それもまた正規化と同様、過度に冗長性を排した結果生じるものである。相した場合には、あえて冗長なデータを保持する設計が有効になる。

# 学習時間
2h（合計364h）
