# 2024/6/5 日報
## 取り組んだ課題一覧
Everyday Rails - RSpecによるRailsテスト入門

## 次やること
Everyday Rails - RSpecによるRailsテスト入門

## 感想
よくわからないがとりあえず進む。

## 学んだこと
シンプルでも信頼性の⾼い単体テストを通じてモデルをテスト
### 下記テストを含める
* 有効な属性で初期化された場合は、モデルの状態が有効（valid）になっている
* バリデーションを失敗させるデータであれば、モデルの状態が有効になっていないこと
* クラスメソッドとインスタンスメソッドが期待通りに動作すること

### ベストプラクティス
* 期待する結果をまとめて記述（describe）
* example（it で始まる1⾏）⼀つにつき、結果を⼀つだけ期待
* どのexampleの期待する結果は能動形で明⽰的に記述
* 各exampleの説明は動詞で始まっていてshouldではない
* 起きてほしいことと、起きてほしくないことをテストする
* 境界値テストをする
* 可読性を上げるためにスペックを整理する

```
# モデルスペックの作成
bin/rails g rspec:model user(モデル名)

/spec/models/user_spec.rbにテストを書く

# 実行コマンド
bundle exec rspec
```

:::note info
RSpecで等値のエクスペクテーションを書くときは==ではなくeqを使う。
:::

### describeとcontext
describe：クラスやシステムの機能に関するアウトラインを記述
context：特定の状態に関するアウトラインを記述

### RSpecのbeforeフック
スペック内の冗⻑なコードを認識し、きれいにする。beforeブロックはexampleごとに、またはブロック内の各exampleごとに、またはテストスイート全体を実⾏するごとに実⾏される。

## 学習時間
3h（累計886h）
